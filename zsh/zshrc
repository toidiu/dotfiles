export ZSH=$HOME/.oh-my-zsh

################ theme
# See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes
ZSH_THEME="robbyrussell"

################ custom config
# so as not the show the hostname
DEFAULT_USER=$USER
# POMPT='myPrompt'

################ plugins
# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.

plugins=(git cargo sbt docker)


function rprompt() {
  kubectl config current-context
}
## color chart: https://upload.wikimedia.org/wikipedia/commons/1/15/Xterm_256color_chart.svg
RPROMPT='$FG[246] $(rprompt)%{$reset_color%'


source $ZSH/oh-my-zsh.sh

################ user config
## Highlighting
# brew install zsh-syntax-highlighting
source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

## Auto Complete
if [ $commands[aws] ]; then
  source /usr/local/share/zsh/site-functions/_aws
fi

## Go
export GOPATH=$HOME/go

# Rust
source $HOME/.cargo/env
#
# Kube (slow!!)
#if [ $commands[kubectl] ]; then
#  source <(kubectl completion zsh)
#fi

# Helm
#if [ $commands[helm] ]; then
#  source <(helm completion zsh)
#fi

## Poweramp
#if [ -d "$HOME/project/poweramp-cli-0.4.13" ] ; then
#  export PATH="$HOME/project/poweramp-cli-0.4.13/bin":$PATH
#fi

################ alias
### General
alias l="ls -al"
alias cc="clear"
alias xx="exit"
alias ..="cd ..;pwd;ls -a"
alias pp="pwd"

### Application Aliases
alias vi="vim"
alias util-kube='kubectl get nodes --label-columns group | grep node | awk '\''{print $1}'\'' | xargs -I {} sh -c '\''echo {} ; kubectl describe node {} | grep Allocated -A 5 | grep -ve Event -ve Allocated -ve percent -ve -- ; echo '\'''

### Tmux
alias tm="tmux"
alias tmn="tmux new -s"
alias tma="tmux attach -t"
alias tml="tmux ls"
alias tmd="tmux kill-session -t"

### K8s Aliases
alias kb="kubectl"

### GIT Aliases
alias gs="git status"
alias gcm="git commit -m"
alias gca="git commit -am"
alias gco="git checkout"
alias gb="git branch"
alias gbd="git branch -D "
alias gbn="git checkout -b "
alias ga="git add"
alias gl="git log --color"
alias gitlg="git log -p --color"
alias gitl="git log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%C(bold blue)<%an>%Creset' --abbrev-commit"
alias gd="git diff --color"
alias gp="git pull; git fetch --all --prune"
alias gpp="git push origin HEAD"


# The next line updates PATH for the Google Cloud SDK.
if [ -f '/Users/toidiu/Desktop/google-cloud-sdk/path.zsh.inc' ]; then source '/Users/toidiu/Desktop/google-cloud-sdk/path.zsh.inc'; fi

# The next line enables shell command completion for gcloud.
if [ -f '/Users/toidiu/Desktop/google-cloud-sdk/completion.zsh.inc' ]; then source '/Users/toidiu/Desktop/google-cloud-sdk/completion.zsh.inc'; fi
